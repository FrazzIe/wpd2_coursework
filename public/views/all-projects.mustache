<html lang="en">

	<head>
		{{>header}}
	</head>

	<body>
		{{>nav}}
		<div class="container">			
			<div class="row align-items-center">
				<div class="col-sm-10">
					<h1 class="display-4">{{ title }}</h1>
				</div>
				<div class="col-sm-2">
					<div class="float-right">
						<a href="/projects/add" class="btn btn-primary">
							Add a new project
						</a>
					</div>
				</div>
			</div>

			<div class="row">
				{{#items}}
				
					<div class="col-sm-12 mt-3">
						<div class="text-left">
							<div class="card">
								<form class="card-header" id="project-share-form" data-project-id="{{ id }}">
									<div class="row align-items-center">
										<div class="col-sm-6">
											{{ title }}
										</div>
										<div class="col-sm-6">
											<div class="float-right">												
												<input type="submit" value="Share" class="btn btn-primary">
											</div>
										</div>
									</div>
								</form>
								<div class="card-body">
									<div class="card-text">
										<div class="card-title">Module: {{ module }} </div>
										<div class="card-text">Intended Due Date: {{ due_date }} </div>
										<div class="card-text">Actual Completion Date: {{ end_date }} </div>
									</div>
								</div>
								<div class="card-footer align-items-center">
									<div class="row">
										<div class="col-sm-6">
											<a href="milestones/{{ id }}" class="btn btn-primary">View milestones</a>
											<a href="/projects/edit/{{ id }}" class="btn btn-info">Edit Project</i></a>
										</div>
										<div class="col-sm-6">
											<a href="#" data-toggle="modal" data-target="#delete-modal-{{ id }}" class="btn btn-danger float-right">Delete</a>
										</div>
									</div>
								</div>

								<div class="modal fade" id="project-share-modal" tabindex="-1" role="dialog" aria-labelledby="shareModal" aria-hidden="true">
									<div class="modal-dialog modal-dialog-centered" role="document">
										<div class="modal-content">
											<div class="modal-header">
												<h6 class="modal-title">Share this link with your friends!</h6>
												<button type="button" class="close" data-dismiss="modal" aria-label="Close">
													<span aria-hidden="true">&times;</span>
												</button>
											</div>
											<div class="modal-body">
												<label for="project-share-link">Shareable link:</label>
												<textarea class="form-control" id="project-share-link" rows="3" onclick="copyURL()"></textarea>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<!-- Very lazy way to do this -->
					<div class="modal fade" id="delete-modal-{{ id }}" tabindex="-1" role="dialog" aria-labelledby="delete-modal-{{ id }}" aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h6 class="modal-title">Are you sure you want to delete project {{ title }}?</h6>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<h5>
										<small>
											This action cannot be undone.
										</small>
									</h5>
								</div>
								<div class="modal-footer">
									<a href="/projects/delete/{{ id }}" class="btn btn-danger">
										Delete
									</a>
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
								</div>
							</div>
						</div>
					</div>
				{{/items}}
			</div>
		</div>
		{{>footer}}
		<script src="/../../js/share-project.js"></script>
	</body>

</html>