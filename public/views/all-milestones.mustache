<html lang="en">

    <head>
        {{>header}}
    </head>

    <body>
        {{>nav}}
        <div class="container">
            <div class="row align-items-center">
                <div class="col-sm-6">
                    <h3 class="display-4">Project: {{ project.title }}</h3>
                </div>
                <div class="col-sm-6">
                    <div class="float-right">
                        <form id="project-share-form" data-project-id="{{ project.id }}">
                            <input type="submit" value="Share" class="btn btn-primary">
                            <a href="/projects/edit/{{ project.id }}" class="btn btn-info">Edit</a>
                            <a href="#" data-toggle="modal" data-target="#project-delete-modal-{{ project.id }}" class="btn btn-danger">Delete</a>
                        </form>

                        <div class="modal fade" id="project-delete-modal-{{ project.id }}" tabindex="-1" role="dialog" aria-labelledby="errorModal" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h6 class="modal-title">Are you sure you want to delete project {{ project.title }}?</h6>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <h5>
                                            <small>
                                                This action cannot be undone.
                                            </small>
                                        </h5>
                                    </div>
                                    <div class="modal-footer">
                                        <a href="/projects/delete/{{ project.id }}" class="btn btn-danger">
                                            Delete
                                        </a>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="project-share-modal" tabindex="-1" role="dialog" aria-labelledby="shareModal" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h6 class="modal-title">Share this link with your friends!</h6>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <label for="project-share-link">Shareable link:</label>
                                        <textarea class="form-control" id="project-share-link" rows="3" onclick="copyURL()"></textarea>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <form>Â   
                <div class="form-group row align-items-center">
                    <label class="col-sm-2 col-form-label">Module</label>
                    <div class="col-sm-10">
                        {{ project.module }}
                    </div>
                </div>

                <div class="form-group row align-items-center">
                    <label class="col-sm-2 col-form-label">Intended Due Date</label>
                    <div class="col-sm-10">
                        {{ project.end_date }}
                    </div>
                </div>

                <div class="form-group row align-items-center">
                    <label class="col-sm-2 col-form-label">Actual Due Date</label>
                    <div class="col-sm-10">
                        {{ project.due_date }}
                    </div>
                </div>
            </form>

            <div class="row align-items-center">
                <div class="col-sm-10">
                    <h3 class="display-4">{{ title }}</h3>
                </div>
                <div class="col-sm-2">
                    <div class="text-right">
                        <a href="/milestones/{{ project.id }}/add" class="btn btn-primary">
                            Add a new milestone
                        </a>
                    </div>
                </div>
            </div>

            <div class="row align-items-center">
                <h3>Active</h3>
            </div>

            <div class="row align-items-center">

                {{#uMilestones}}
                    <div class="col-sm-12 mt-3">
                        <div class="card">
                            <div class="card-header">
                                {{ title }}
                            </div>
                            <div class="card-body">
                                <div class="card-text">
                                    {{ description }}
                                </div>
                            </div>
								<div class="card-footer align-items-center">
									<div class="row">
										<div class="col-sm-6">
                                            <a href="/milestones/{{ project.id }}/complete/{{ id }}" class="btn btn-success">Set as completed</a>
                                            <a href="/milestones/{{ project.id }}/edit/{{ id }}" class="btn btn-info">Edit</a>
										</div>
										<div class="col-sm-6">
											<a href="#" data-toggle="modal" data-target="#delete-modal-{{ id }}" class="btn btn-danger float-right">Delete</a>
										</div>
									</div>
								</div>
                        </div>

                        <!-- Very lazy way to do this -->
                        <div class="modal fade" id="delete-modal-{{ id }}" tabindex="-1" role="dialog" aria-labelledby="errorModal" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h6 class="modal-title">Are you sure you want to delete milestone {{ title }}?</h6>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <h5>
                                            <small>
                                                This action cannot be undone.
                                            </small>
                                        </h5>
                                    </div>
                                    <div class="modal-footer">
                                        <a href="/milestones/{{ project.id }}/delete/{{ id }}" class="btn btn-danger">
                                            Delete
                                        </a>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {{/uMilestones}}
            </div>

            <div class="row align-items-center">
                <h3>Completed</h3>
            </div>

            <div class="row align-items-center">

                {{#cMilestones}}
                    <div class="col-sm-12 mt-3">
                        <div class="card">
                            <div class="card-header">
                                {{ title }}
                            </div>
                            <div class="card-body">
                                <div class="card-text">
                                    {{ description }}
                                </div>
                            </div>
                            <div class="card-footer align-items-center">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <a href="/milestones/{{ project.id }}/edit/{{ id }}" class="btn btn-info">Edit</a>
                                    </div>
                                    <div class="col-sm-6">
                                        <a href="#" data-toggle="modal" data-target="#delete-modal-{{ id }}" class="btn btn-danger float-right">Delete</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Very lazy way to do this -->
                        <div class="modal fade" id="delete-modal-{{ id }}" tabindex="-1" role="dialog" aria-labelledby="delete-modal-{{ id }}" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h6 class="modal-title">Are you sure you want to delete project {{ title }}?</h6>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <h5>
                                            <small>
                                                This action cannot be undone.
                                            </small>
                                        </h5>
                                    </div>
                                    <div class="modal-footer">
                                        <a href="/milestones/{{ project.id }}/delete/{{ id }}" class="btn btn-danger">
                                            Delete
                                        </a>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {{/cMilestones}}
            </div>
        </div>
        {{>footer}}
        <script src="/../../js/share-project.js"></script>
    </body>

</html> 